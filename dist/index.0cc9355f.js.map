{"mappings":"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","sources":["typescript-solid/SOLID/3.I/new.js"],"sourcesContent":["var User = /** @class */ (function () {\r\n    function User() {\r\n        this._password = 'user';\r\n    }\r\n    //Interesting detail here: while I did not define a return type or param type, any deviation from the interface will give you an error.\r\n    // Test it out by uncommenting the code below.\r\n    User.prototype.checkGoogleLogin = function (token) {\r\n        // return \"this will not work\";\r\n        return (token === this._googleToken);\r\n    };\r\n    User.prototype.setGoogleToken = function (token) {\r\n        this._googleToken = token;\r\n    };\r\n    User.prototype.getFacebookLogin = function (token) {\r\n        return (token === this._facebookToken);\r\n    };\r\n    User.prototype.setFacebookToken = function (token) {\r\n        this._facebookToken = token;\r\n    };\r\n    User.prototype.checkPassword = function (password) {\r\n        return (password === this._password);\r\n    };\r\n    User.prototype.resetPassword = function () {\r\n        this._password = prompt('What is your new password?');\r\n    };\r\n    return User;\r\n}());\r\n//admin cannot use google or facebook token\r\nvar Admin = /** @class */ (function () {\r\n    function Admin() {\r\n        this._password = 'admin';\r\n    }\r\n    Admin.prototype.checkPassword = function (password) {\r\n        return (password === this._password);\r\n    };\r\n    Admin.prototype.resetPassword = function () {\r\n        this._password = prompt('What is your new password?');\r\n    };\r\n    return Admin;\r\n}());\r\n//googlebot can only use google token\r\nvar GoogleBot = /** @class */ (function () {\r\n    function GoogleBot() {\r\n    }\r\n    //Interesting detail here: while I did not define a return type or param type, any deviation from the interface will give you an error.\r\n    // Test it out by uncommenting the code below.\r\n    GoogleBot.prototype.checkGoogleLogin = function (token) {\r\n        // return \"this will not work\";\r\n        return (token === this._googleToken);\r\n    };\r\n    GoogleBot.prototype.setGoogleToken = function (token) {\r\n        this._googleToken = token;\r\n    };\r\n    return GoogleBot;\r\n}());\r\n//implementing segregated interfaces:\r\nvar passwordElement = document.querySelector('#password');\r\nvar typePasswordElement = document.querySelector('#typePassword');\r\nvar typeGoogleElement = document.querySelector('#typeGoogle');\r\nvar typeFacebookElement = document.querySelector('#typeFacebook');\r\nvar loginAsAdminElement = document.querySelector('#loginAsAdmin');\r\nvar resetPasswordElement = document.querySelector('#resetPassword');\r\nvar guest = new User;\r\nvar admin = new Admin;\r\nvar googleBot = new GoogleBot();\r\ndocument.querySelector('#login-form').addEventListener('submit', function (event) {\r\n    event.preventDefault();\r\n    var user = loginAsAdminElement.checked ? admin : guest;\r\n    if (user === guest) {\r\n        user.setGoogleToken('secret_token_google');\r\n        user.setFacebookToken('secret_token_fb');\r\n    }\r\n    debugger;\r\n    var auth = false;\r\n    switch (true) {\r\n        case typePasswordElement.checked:\r\n            auth = user.checkPassword(passwordElement.value);\r\n            break;\r\n        case typeGoogleElement.checked:\r\n            if (user === guest) {\r\n                auth = user.checkGoogleLogin('secret_token_google');\r\n            }\r\n            break;\r\n        case typeFacebookElement.checked:\r\n            debugger;\r\n            if (user === guest) {\r\n                auth = user.getFacebookLogin('secret_token_fb');\r\n            }\r\n            break;\r\n    }\r\n    if (auth) {\r\n        alert('login success');\r\n    }\r\n    else {\r\n        alert('login failed');\r\n    }\r\n});\r\nresetPasswordElement.addEventListener('click', function (event) {\r\n    event.preventDefault();\r\n    var user = loginAsAdminElement.checked ? admin : guest;\r\n    user.resetPassword();\r\n});\r\n"],"names":[],"version":3,"file":"index.0cc9355f.js.map","sourceRoot":"/__parcel_source_root/"}